{% extends "catalog/base.html" %}
{% load static %}

{% block title %}{{ item.common_name }} - Mango Pest & Disease Guide{% endblock %}

{% block content %}
<main class="container detail-page">
    <div class="breadcrumb">
        <a href="{% url 'pest_list' %}">‚Üê Back to Pests & Diseases</a>
    </div>

    <div class="detail-container">
        <div class="detail-header">
            <div class="detail-info">
                <h1>{{ item.common_name }}</h1>
                <p class="scientific-name"><em>{{ item.scientific_name }}</em></p>
                {% if item.family %}
                <p class="family-name">Family: {{ item.family }}</p>
                {% endif %}
                {% if item.type %}
                <p class="type">Type: {{ item.type }}</p>
                {% endif %}
            </div>
            {% if item.image_url %}
            <div class="detail-image">
                <img src="{% static item.image_url %}" alt="{{ item.common_name }}">
            </div>
            {% endif %}
        </div>

        <div class="detail-content">
            {% if item_type == 'pest' %}
            <!-- Pest specific content -->
            <div class="detail-section">
                <h2>Description</h2>
                <p>{{ item.description }}</p>
            </div>
            <div class="detail-section">
                <h2>Life Cycle</h2>
                <p>{{ item.life_cycle }}</p>
            </div>
            <div class="detail-section">
                <h2>Damage</h2>
                <p>{{ item.damage_description }}</p>
            </div>
            <div class="detail-section">
                <h2>Importance</h2>
                <p>{{ item.importance }}</p>
            </div>
            <div class="detail-section">
                <h2>Host Plants</h2>
                <p>{{ item.hosts }}</p>
            </div>
            <div class="detail-section">
                <h2>Critical Control Period</h2>
                <p>{{ item.critical_control_period }}</p>
            </div>
            <div class="detail-section">
                <h2>Monitoring Methods</h2>
                <p>{{ item.monitoring }}</p>
            </div>
            {% if item.comments %}
            <div class="detail-section">
                <h2>Additional Comments</h2>
                <p>{{ item.comments }}</p>
            </div>
            {% endif %}
            {% else %}
            <!-- Disease specific content -->
            <div class="detail-section">
                <h2>Symptoms</h2>
                <p>{{ item.symptoms }}</p>
            </div>
            <div class="detail-section">
                <h2>Distribution</h2>
                <p>{{ item.distribution }}</p>
            </div>
            <div class="detail-section">
                <h2>Favorable Conditions</h2>
                <p>{{ item.favoured_by }}</p>
            </div>
            <div class="detail-section">
                <h2>Similar As</h2>
                <p>{{ item.similar_to }}</p>
            </div>
            <div class="detail-section">
                <h2>Control Strategies</h2>
                <p>{{ item.control_strategies }}</p>
            </div>
            <div class="detail-section">
                <h2>Life Cycle</h2>
                <p>{{ item.life_cycle }}</p>
            </div>
            {% if item.impact %}
            <div class="detail-section">
                <h2>Impact</h2>
                <p>{{ item.impact }}</p>
            </div>
            {% endif %}
            {% endif %}
        </div>
    </div>
</main>
{% endblock %}
